<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.layout.ColumnConstraints?>
<?import javafx.scene.layout.GridPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.RowConstraints?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.control.Separator?>

<VBox alignment="CENTER" spacing="20.0" xmlns:fx="http://javafx.com/fxml/1" xmlns="http://javafx.com/javafx/17" fx:controller="management.perpustakaan.BookController"
      style="-fx-background-color: linear-gradient(to bottom, #fef7ff, #f3e5f5); -fx-padding: 25;">

    <VBox alignment="CENTER" spacing="10.0" style="-fx-background-color: rgba(255,255,255,0.8); -fx-background-radius: 20; -fx-padding: 25; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.1), 10, 0, 0, 3);">
        <Label text="ðŸ“š Perpustakaan Digital" style="-fx-font-size: 32px; -fx-font-weight: bold; -fx-text-fill: #6a4c93;" />
        <Label text="Kelola koleksi buku dengan mudah dan menyenangkan âœ¨" style="-fx-font-size: 14px; -fx-text-fill: #8e44ad; -fx-font-style: italic;" />
    </VBox>

    <VBox spacing="15.0" style="-fx-background-color: rgba(255,255,255,0.9); -fx-background-radius: 15; -fx-padding: 20; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.08), 8, 0, 0, 2);">
        <Label text="ðŸ“– Daftar Koleksi Buku" style="-fx-font-size: 20px; -fx-font-weight: bold; -fx-text-fill: #5d4e75;" />

        <TableView fx:id="bookTable" VBox.vgrow="ALWAYS" style="-fx-background-color: #faf8ff; -fx-background-radius: 10; -fx-border-color: #e1bee7; -fx-border-width: 1; -fx-border-radius: 10;">
            <columns>
                <TableColumn fx:id="idColumn" text="ðŸ†” ID" prefWidth="80" style="-fx-alignment: CENTER;" />
                <TableColumn fx:id="titleColumn" text="ðŸ“š Judul Buku" prefWidth="280" />
                <TableColumn fx:id="authorColumn" text="âœï¸ Penulis" prefWidth="220" />
                <TableColumn fx:id="statusColumn" text="ðŸ“Š Status" prefWidth="150" style="-fx-alignment: CENTER;" />
            </columns>
            <placeholder>
                <VBox alignment="CENTER" spacing="10.0" style="-fx-padding: 40;">
                    <Label text="ðŸ“š" style="-fx-font-size: 48px;" />
                    <Label text="Belum ada buku yang terdaftar" style="-fx-font-size: 16px; -fx-text-fill: #9575cd; -fx-font-weight: bold;" />
                    <Label text="Klik 'Tambah Buku Baru' untuk memulai!" style="-fx-font-size: 12px; -fx-text-fill: #b39ddb;" />
                </VBox>
            </placeholder>
        </TableView>

        <HBox alignment="CENTER" spacing="15.0" style="-fx-padding: 10 0 0 0;">
            <Button fx:id="addButton" text="âž• Tambah Buku Baru" onAction="#handleAddButton"
                    style="-fx-background-color: linear-gradient(to bottom, #81c784, #66bb6a); -fx-text-fill: white; -fx-font-weight: bold; -fx-background-radius: 25; -fx-padding: 12 24; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.2), 4, 0, 0, 2); -fx-cursor: hand;" />
            <Button fx:id="editButton" text="âœï¸ Edit Buku" onAction="#handleEditButton"
                    style="-fx-background-color: linear-gradient(to bottom, #64b5f6, #42a5f5); -fx-text-fill: white; -fx-font-weight: bold; -fx-background-radius: 25; -fx-padding: 12 24; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.2), 4, 0, 0, 2); -fx-cursor: hand;" />
            <Button fx:id="deleteButton" text="ðŸ—‘ï¸ Hapus Buku" onAction="#handleDeleteButton"
                    style="-fx-background-color: linear-gradient(to bottom, #e57373, #ef5350); -fx-text-fill: white; -fx-font-weight: bold; -fx-background-radius: 25; -fx-padding: 12 24; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.2), 4, 0, 0, 2); -fx-cursor: hand;" />
        </HBox>
    </VBox>

    <VBox fx:id="formVBox" alignment="CENTER_LEFT" spacing="15.0"
          style="-fx-background-color: rgba(255,255,255,0.95); -fx-background-radius: 15; -fx-padding: 25; -fx-border-color: #f8bbd9; -fx-border-width: 2; -fx-border-radius: 15; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.1), 10, 0, 0, 3);">
        <Label text="ðŸ“ Form Input Buku" style="-fx-font-size: 18px; -fx-font-weight: bold; -fx-text-fill: #ad1457;" />
        <GridPane hgap="15" vgap="15" style="-fx-alignment: center;">
            <columnConstraints>
                <ColumnConstraints hgrow="SOMETIMES" minWidth="120.0" prefWidth="120.0" />
                <ColumnConstraints hgrow="SOMETIMES" minWidth="300.0" prefWidth="350.0" />
            </columnConstraints>
            <rowConstraints>
                <RowConstraints minHeight="35.0" prefHeight="35.0" vgrow="SOMETIMES" />
                <RowConstraints minHeight="35.0" prefHeight="35.0" vgrow="SOMETIMES" />
                <RowConstraints minHeight="45.0" prefHeight="45.0" vgrow="SOMETIMES" />
            </rowConstraints>
            <children>
                <Label text="ðŸ“– Judul:" GridPane.rowIndex="0" style="-fx-font-weight: bold; -fx-text-fill: #6a1b9a;" />
                <TextField fx:id="titleField" promptText="Masukkan judul buku yang menarik..." GridPane.columnIndex="1" GridPane.rowIndex="0"
                           style="-fx-background-color: #f3e5f5; -fx-background-radius: 10; -fx-border-color: #e1bee7; -fx-border-radius: 10; -fx-padding: 8; -fx-font-size: 13px;" />

                <Label text="âœï¸ Penulis:" GridPane.rowIndex="1" style="-fx-font-weight: bold; -fx-text-fill: #6a1b9a;" />
                <TextField fx:id="authorField" promptText="Nama penulis buku" GridPane.columnIndex="1" GridPane.rowIndex="1"
                           style="-fx-background-color: #f3e5f5; -fx-background-radius: 10; -fx-border-color: #e1bee7; -fx-border-radius: 10; -fx-padding: 8; -fx-font-size: 13px;" />

                <Button fx:id="saveButton" onAction="#handleSaveButton" text="ðŸ’¾ Simpan Data" GridPane.columnIndex="1" GridPane.rowIndex="2"
                        style="-fx-background-color: linear-gradient(to bottom, #ab47bc, #9c27b0); -fx-text-fill: white; -fx-font-weight: bold; -fx-background-radius: 20; -fx-padding: 10 30; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.3), 6, 0, 0, 2); -fx-cursor: hand;"/>
            </children>
        </GridPane>
    </VBox>

    <Separator style="-fx-background-color: #e1bee7; -fx-border-color: #e1bee7;" />

    <HBox alignment="CENTER" spacing="40.0" style="-fx-padding: 20 0;">

        <VBox spacing="15.0" alignment="CENTER"
              style="-fx-background-color: rgba(255,255,255,0.9); -fx-background-radius: 15; -fx-padding: 25; -fx-border-color: #b39ddb; -fx-border-width: 2; -fx-border-radius: 15; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.08), 8, 0, 0, 2);">
            <Label text="ðŸ“¤ Peminjaman Buku" style="-fx-font-weight: bold; -fx-font-size: 16px; -fx-text-fill: #5e35b1;" />
            <GridPane hgap="12" vgap="12">
                <columnConstraints>
                    <ColumnConstraints hgrow="SOMETIMES" minWidth="100.0" prefWidth="100.0" />
                    <ColumnConstraints hgrow="SOMETIMES" minWidth="180.0" prefWidth="200.0" />
                </columnConstraints>
                <children>
                    <Label text="ðŸ‘¤ ID Anggota:" GridPane.rowIndex="0" style="-fx-font-weight: bold; -fx-text-fill: #673ab7;" />
                    <TextField fx:id="borrowMemberIdField" promptText="Contoh: M001" GridPane.columnIndex="1" GridPane.rowIndex="0"
                               style="-fx-background-color: #ede7f6; -fx-background-radius: 8; -fx-border-color: #d1c4e9; -fx-border-radius: 8; -fx-padding: 6;" />
                    <Label text="ðŸ“š ID Buku:" GridPane.rowIndex="1" style="-fx-font-weight: bold; -fx-text-fill: #673ab7;" />
                    <TextField fx:id="borrowBookIdField" promptText="Contoh: 101" GridPane.columnIndex="1" GridPane.rowIndex="1"
                               style="-fx-background-color: #ede7f6; -fx-background-radius: 8; -fx-border-color: #d1c4e9; -fx-border-radius: 8; -fx-padding: 6;" />
                </children>
            </GridPane>
            <Button text="ðŸ“–âž¡ï¸ Pinjamkan Buku" onAction="#handleBorrowAction" prefWidth="220.0"
                    style="-fx-background-color: linear-gradient(to bottom, #5c6bc0, #3f51b5); -fx-text-fill: white; -fx-font-weight: bold; -fx-background-radius: 20; -fx-padding: 10 20; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.25), 5, 0, 0, 2); -fx-cursor: hand;"/>
        </VBox>

        <VBox spacing="15.0" alignment="CENTER"
              style="-fx-background-color: rgba(255,255,255,0.9); -fx-background-radius: 15; -fx-padding: 25; -fx-border-color: #a5d6a7; -fx-border-width: 2; -fx-border-radius: 15; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.08), 8, 0, 0, 2);">
            <Label text="ðŸ“¥ Pengembalian Buku" style="-fx-font-weight: bold; -fx-font-size: 16px; -fx-text-fill: #2e7d32;" />
            <GridPane hgap="12" vgap="12">
                <columnConstraints>
                    <ColumnConstraints hgrow="SOMETIMES" minWidth="100.0" prefWidth="100.0" />
                    <ColumnConstraints hgrow="SOMETIMES" minWidth="180.0" prefWidth="200.0" />
                </columnConstraints>
                <children>
                    <Label text="ðŸ“š ID Buku:" GridPane.rowIndex="0" style="-fx-font-weight: bold; -fx-text-fill: #388e3c;" />
                    <TextField fx:id="returnBookIdField" promptText="Contoh: 101" GridPane.columnIndex="1" GridPane.rowIndex="0"
                               style="-fx-background-color: #e8f5e8; -fx-background-radius: 8; -fx-border-color: #c8e6c9; -fx-border-radius: 8; -fx-padding: 6;" />
                </children>
            </GridPane>
            <Button text="ðŸ“šâ¬…ï¸ Kembalikan Buku" onAction="#handleReturnAction" prefWidth="220.0"
                    style="-fx-background-color: linear-gradient(to bottom, #66bb6a, #4caf50); -fx-text-fill: white; -fx-font-weight: bold; -fx-background-radius: 20; -fx-padding: 10 20; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.25), 5, 0, 0, 2); -fx-cursor: hand;"/>
        </VBox>
    </HBox>

    <Separator style="-fx-background-color: #e1bee7; -fx-border-color: #e1bee7;" />

    <Button text="ðŸ  Kembali ke Menu Utama" onAction="#handleBackButton"
            style="-fx-background-color: linear-gradient(to bottom, #ffb74d, #ff9800); -fx-text-fill: white; -fx-font-weight: bold; -fx-background-radius: 25; -fx-padding: 12 30; -fx-font-size: 14px; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.2), 6, 0, 0, 3); -fx-cursor: hand;" />

</VBox>